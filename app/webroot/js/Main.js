// Generated by CoffeeScript 1.3.3
var setEvent;

require(["vendor/jquery", "debug", "View", "DataTable", "lib/underscore-min"], function() {
  return require(["UserTable", "PlanTable", "FriendsTable", "CollaboratorTable"], function() {
    window.dataTable = {};
    dataTable.userTable = new UserTable(dataTable);
    dataTable.planTable = new PlanTable(dataTable);
    return setEvent();
  });
});

setEvent = function() {
  return $(".create_image").click(function(res) {
    var event, flag, viewParam,
      _this = this;
    view["delete"]('.main_contents > *');
    viewParam = {
      tplSelector: "#canvasTpl",
      appendSelector: ".main_contents"
    };
    view.update(viewParam);
    window.drawing = new BirthdayArrange("canvas", flag = true);
    window.bg_drawing = new BirthdayArrange("bg_canvas", flag = true, event = false);
    drawing.setImages();
    bg_drawing.setBackgroundImages();
    return $("#add").bind("click", function() {
      return drawing.inImage("static/img/test.png");
    });
  });
};
